<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>EA FC 26 ‚Ä¢ Ultimate Generator</title>
<link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">

<style>
:root {
  --bg: #050505;
  --card-bg: #0f0f13;
  --p1: #ff004c;
  --p2: #00e5ff;
  --gold: #ffd700;
  --ease: cubic-bezier(0.23, 1, 0.32, 1);
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; outline: none; }

body {
  background-color: var(--bg); color: #fff;
  font-family: 'Rajdhani', sans-serif; /* Fonte estilo Gamer */
  min-height: 100vh; display: flex; flex-direction: column; align-items: center;
  background-image: 
    radial-gradient(circle at 50% 0%, #1a1a2e 0%, transparent 60%),
    linear-gradient(0deg, #000 0%, #08080a 100%);
}

.app { width: 100%; max-width: 420px; padding: 20px; text-align: center; padding-bottom: 50px; }

h1 {
  font-size: 1.5rem; font-weight: 700; letter-spacing: 4px; margin: 30px 0;
  text-transform: uppercase; background: linear-gradient(90deg, #fff, #888);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
}

/* LOBBY */
#lobby {
  background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05);
  padding: 40px 25px; border-radius: 30px; box-shadow: 0 20px 50px rgba(0,0,0,0.5);
}

.input-box { margin-bottom: 20px; text-align: left; }
.input-label { color: var(--p1); font-size: 0.8rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; display: block; }
.input-label.blue { color: var(--p2); }

.field {
  width: 100%; padding: 18px; background: #000; border: 1px solid #222;
  color: #fff; border-radius: 12px; font-size: 1.1rem; font-family: 'Rajdhani';
  transition: 0.3s;
}
.field:focus { border-color: #555; }

.btn-main {
  width: 100%; padding: 20px; background: linear-gradient(135deg, #fff, #ccc);
  color: #000; border: none; border-radius: 12px; font-size: 1.1rem; font-weight: 800;
  text-transform: uppercase; letter-spacing: 1px; cursor: pointer; margin-top: 10px;
  box-shadow: 0 5px 20px rgba(255,255,255,0.1);
}

/* ARENA */
#arena { display: none; width: 100%; animation: slideIn 0.6s var(--ease); }
@keyframes slideIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: 0; } }

.btn-draw {
  width: 100%; padding: 22px; background: #1a1a1a; color: #fff; border: 1px solid #333;
  border-radius: 16px; font-size: 1.2rem; font-weight: 700; text-transform: uppercase;
  margin-bottom: 30px; letter-spacing: 2px; cursor: pointer; transition: 0.2s;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}
.btn-draw:active { transform: scale(0.97); background: #222; }
.btn-draw:disabled { opacity: 0.5; cursor: wait; }

/* CARD DESIGN */
.card {
  position: relative; background: var(--card-bg); border-radius: 24px; margin-bottom: 25px;
  overflow: hidden; border: 1px solid rgba(255,255,255,0.05);
  box-shadow: 0 20px 60px rgba(0,0,0,0.6); transition: transform 0.3s var(--ease);
}

/* Identificador P1/P2 discreto na lateral */
.p-indicator { position: absolute; left: 0; top: 0; bottom: 0; width: 6px; z-index: 2; }

/* Glow com a cor do time */
.team-glow {
  position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
  background: radial-gradient(circle, var(--team-color), transparent 60%);
  opacity: 0.15; z-index: 1; transition: 0.5s;
}

.card-body { position: relative; z-index: 5; padding: 25px; }

.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.badge { 
  font-size: 0.75rem; font-weight: 700; background: rgba(255,255,255,0.05); 
  padding: 5px 12px; border-radius: 6px; text-transform: uppercase; color: #aaa; letter-spacing: 1px;
}

.ovr { 
  font-size: 2rem; font-weight: 800; line-height: 1;
  text-shadow: 0 0 15px currentColor; /* O numero brilha */
}

.info { text-align: left; margin-bottom: 20px; }
.team-name { 
  font-size: 1.8rem; font-weight: 800; text-transform: uppercase; line-height: 0.95; 
  color: #fff; margin-bottom: 8px; display: block;
}
.kit { font-size: 1rem; margin-right: 8px; vertical-align: middle; }
.players { 
  font-size: 0.85rem; color: #ccc; font-weight: 500; display: block; 
  border-left: 2px solid var(--gold); padding-left: 10px; margin-top: 10px;
}

/* BARRAS DE STATUS */
.stats { display: flex; gap: 8px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.08); }
.stat-box { flex: 1; text-align: center; }
.label { font-size: 0.6rem; font-weight: 700; color: #666; margin-bottom: 5px; display: block; }
.track { height: 6px; background: #000; border-radius: 3px; overflow: hidden; }
.fill { height: 100%; width: 0%; transition: width 1.2s var(--ease); background: var(--team-color); }
.num { font-size: 1rem; font-weight: 700; margin-top: 5px; display: block; color: #fff; }

.vs { font-size: 1.5rem; font-weight: 900; font-style: italic; color: #333; margin: -10px 0 20px; }

/* CORES DOS NUMEROS */
.s-tier { color: #00ffff; } /* 85+ */
.a-tier { color: #00ff00; } /* 80-84 */
.b-tier { color: #ffcc00; } /* 75-79 */
.c-tier { color: #aaaaaa; } /* <75 */

footer { margin-top: 40px; font-size: 0.7rem; color: #444; font-weight: 700; letter-spacing: 2px; }
.shuffling .card { filter: blur(10px); opacity: 0.5; transform: scale(0.98); }
</style>
</head>
<body>
<div class="app">
  <h1>EA FC 26 ‚Ä¢ ULTIMATE</h1>

  <div id="lobby">
    <div class="input-box">
      <label class="input-label">Jogador 1 (Vermelho)</label>
      <input type="text" id="p1" class="field" placeholder="Nome...">
    </div>
    <div class="input-box">
      <label class="input-label blue">Jogador 2 (Azul)</label>
      <input type="text" id="p2" class="field" placeholder="Nome...">
    </div>
    <button class="btn-main" onclick="startSystem()">ENTRAR NA ARENA</button>
  </div>

  <div id="arena">
    <button class="btn-draw" id="btnDraft" onclick="runDraft()">GERAR CONFRONTO</button>

    <div id="grid">
      <div class="card" id="c1">
        <div class="p-indicator" style="background: var(--p1)"></div>
        <div class="team-glow" id="glw1"></div>
        <div class="card-body">
          <div class="header">
            <span class="badge" id="own1">---</span>
            <div class="ovr" id="ovr1">00</div>
          </div>
          <div class="info">
            <span class="team-name"><span class="kit" id="k1"></span><span id="n1">---</span></span>
            <span class="players" id="s1">---</span>
          </div>
          <div class="stats">
            <div class="stat-box"><span class="label">ATA</span><div class="track"><div class="fill" id="b1a"></div></div><span class="num" id="v1a">0</span></div>
            <div class="stat-box"><span class="label">MED</span><div class="track"><div class="fill" id="b1m"></div></div><span class="num" id="v1m">0</span></div>
            <div class="stat-box"><span class="label">DEF</span><div class="track"><div class="fill" id="b1d"></div></div><span class="num" id="v1d">0</span></div>
          </div>
        </div>
      </div>

      <div class="vs">VS</div>

      <div class="card" id="c2">
        <div class="p-indicator" style="background: var(--p2)"></div>
        <div class="team-glow" id="glw2"></div>
        <div class="card-body">
          <div class="header">
            <span class="badge" id="own2">---</span>
            <div class="ovr" id="ovr2">00</div>
          </div>
          <div class="info">
            <span class="team-name"><span class="kit" id="k2"></span><span id="n2">---</span></span>
            <span class="players" id="s2">---</span>
          </div>
          <div class="stats">
            <div class="stat-box"><span class="label">ATA</span><div class="track"><div class="fill" id="b2a"></div></div><span class="num" id="v2a">0</span></div>
            <div class="stat-box"><span class="label">MED</span><div class="track"><div class="fill" id="b2m"></div></div><span class="num" id="v2m">0</span></div>
            <div class="stat-box"><span class="label">DEF</span><div class="track"><div class="fill" id="b2d"></div></div><span class="num" id="v2d">0</span></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer>
    EA FC 26 COMPETTITIVE ‚Ä¢ Direitos reservados a J. Rayan
  </footer>
</div>
<script>
// SISTEMA DE SOM V8 (FIXO PARA MOBILE)
const AudioFX = {
  ctx: null,
  unlock() {
    if(!this.ctx) {
      this.ctx = new (window.AudioContext || window.webkitAudioContext)();
      const b = this.ctx.createBuffer(1, 1, 22050);
      const s = this.ctx.createBufferSource();
      s.buffer = b; s.connect(this.ctx.destination); s.start(0);
    }
    if(this.ctx.state === 'suspended') this.ctx.resume();
  },
  tick() {
    if(!this.ctx) return;
    const o = this.ctx.createOscillator();
    const g = this.ctx.createGain();
    o.type = 'square';
    o.frequency.value = 150 + (Math.random()*20);
    g.gain.value = 0.05;
    g.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.05);
    o.connect(g); g.connect(this.ctx.destination);
    o.start(); o.stop(this.ctx.currentTime + 0.05);
  },
  boom() {
    if(!this.ctx) return;
    const o = this.ctx.createOscillator();
    const g = this.ctx.createGain();
    o.type = 'triangle';
    o.frequency.setValueAtTime(80, this.ctx.currentTime);
    o.frequency.exponentialRampToValueAtTime(30, this.ctx.currentTime + 0.5);
    g.gain.setValueAtTime(0.3, this.ctx.currentTime);
    g.gain.linearRampToValueAtTime(0, this.ctx.currentTime + 0.5);
    o.connect(g); g.connect(this.ctx.destination);
    o.start(); o.stop(this.ctx.currentTime + 0.5);
  }
};

// DATABASE OFICIAL (98 TIMES - DADOS AUDITADOS)
const db = [
  // ALEMANHA (1-11)
  {n:"1. FC K√∂ln", i:"üî¥‚ö™", s:"Marius B√ºlter", c:"#e30613", a:74, m:73, d:72},
  {n:"FC Augsburg", i:"üî¥üü¢", s:"Alexis Claude-Maurice", c:"#ba3733", a:75, m:74, d:74},
  {n:"Bayer Leverkusen", i:"üî¥‚ö´", s:"Patrik Schick", c:"#000000", a:82, m:79, d:78},
  {n:"Bayern M√ºnchen", i:"üî¥‚ö™", s:"Harry Kane", c:"#dd0000", a:89, m:85, d:83},
  {n:"Borussia Dortmund", i:"üü°‚ö´", s:"Serhou Guirassy", c:"#FDE100", a:81, m:81, d:82},
  {n:"Eintracht Frankfurt", i:"‚ö™üî¥", s:"Mario G√∂tze", c:"#e1000f", a:78, m:78, d:78},
  {n:"Mainz 05", i:"üî¥‚ö™", s:"Nadiem Amiri", c:"#c3141e", a:73, m:78, d:75},
  {n:"M'gladbach", i:"‚ö™üü¢", s:"Franck Honorat", c:"#ffffff", a:76, m:75, d:75},
  {n:"RB Leipzig", i:"‚ö™üî¥", s:"P√©ter Gul√°csi", c:"#de0039", a:77, m:79, d:79},
  {n:"VfB Stuttgart", i:"‚ö™üî¥", s:"Angelo Stiller", c:"#e30613", a:80, m:77, d:76},
  {n:"VfL Wolfsburg", i:"üü¢‚ö™", s:"Mohamed Amoura", c:"#65b32e", a:80, m:76, d:75},
  // AR√ÅBIA (12-15)
  {n:"Al-Ahli", i:"üü¢‚ö™", s:"Riyad Mahrez & Edouard Mendy", c:"#006400", a:74, m:74, d:73},
  {n:"Al-Hilal", i:"üîµ‚ö™", s:"Karim Benzema & Milinkoviƒá-Saviƒá", c:"#3b6eff", a:78, m:80, d:75},
  {n:"Al-Ittihad", i:"‚ö´üü°", s:"Moussa Diaby & Fabinho Tavares", c:"#fdb912", a:79, m:74, d:72},
  {n:"Al Nassr", i:"üü°üîµ", s:"Cristiano Ronaldo & Jo√£o F√©lix", c:"#ffe600", a:83, m:74, d:74},
  // ARGENTINA (16-20)
  {n:"Boca Juniors", i:"üîµüü°", s:"Leandro Paredes & Edinson Cavani", c:"#003366", a:74, m:76, d:73},
  {n:"Estudiantes", i:"üî¥‚ö™", s:"Guido Carrillo", c:"#e30613", a:76, m:73, d:72},
  {n:"Racing Club", i:"üîµ‚ö™", s:"Santiago Sosa", c:"#6caee0", a:74, m:73, d:74},
  {n:"River Plate", i:"‚ö™üî¥", s:"Marcos Acu√±a & Juan Quintero", c:"#ffffff", a:75, m:75, d:75},
  {n:"Rosario Central", i:"üîµüü°", s:"√Ångel Di Mar√≠a", c:"#003a70", a:72, m:73, d:72},
  // ESPANHA (21-34)
  {n:"Alav√©s", i:"üîµ‚ö™", s:"Antonio Blanco", c:"#005eb8", a:74, m:73, d:74},
  {n:"Athletic Bilbao", i:"üî¥‚ö™", s:"I√±aki Williams, Nico Williams & Oihan Sancet", c:"#e30613", a:78, m:81, d:79},
  {n:"Atl√©tico Madrid", i:"üî¥‚ö™", s:"Antoine Griezmann, Juli√°n √Ålvarez & Ademola Lookman", c:"#cb3524", a:84, m:81, d:81},
  {n:"FC Barcelona", i:"üîµüî¥", s:"Raphinha Belloli & Lamine Yamal", c:"#004d98", a:85, m:86, d:83},
  {n:"Celta de Vigo", i:"üîµ‚ö™", s:"Iago Aspas, √ìscar Mingueza & Borja Iglesias", c:"#8ac3ee", a:77, m:75, d:77},
  {n:"Elche CF", i:"üü¢‚ö™", s:"Andr√© Silva", c:"#00a550", a:73, m:73, d:75},
  {n:"Mallorca", i:"üî¥‚ö´", s:"Sergi Darder, Vedat Muriqi & Antonio Ra√≠llo", c:"#e30613", a:80, m:75, d:78},
  {n:"Osasuna", i:"üî¥üîµ", s:"Aimar Oroz & Javi Gal√°n", c:"#0a346f", a:81, m:76, d:76},
  {n:"Real Betis", i:"üü¢‚ö™", s:"Antony Matheus & Isco Alarc√≥n", c:"#00b140", a:79, m:78, d:77},
  {n:"Real Madrid", i:"‚ö™‚ö™", s:"Vin√≠cius Jr, Kylian Mbapp√© & Rodrygo Silva", c:"#ffffff", a:85, m:83, d:83},
  {n:"Real Sociedad", i:"üîµ‚ö™", s:"Takefusa Kubo, Mikel Oyarzabal & √Ålex Remiro", c:"#0067b1", a:82, m:77, d:75},
  {n:"Sevilla FC", i:"‚ö™üî¥", s:"Alex S√°nchez & Djibril Sow", c:"#ffffff", a:74, m:75, d:76},
  {n:"Valencia CF", i:"‚ö™‚ö´", s:"Jos√© Gay√† & Pepelu", c:"#ffffff", a:76, m:76, d:75},
  {n:"Villarreal CF", i:"üü°üü°", s:"Dani Parejo, Gerard Moreno & Alberto Moleiro", c:"#fde100", a:80, m:80, d:77},
  // EUA (35-38)
  {n:"Inter Miami", i:"üå∏‚ö´", s:"Lionel Messi & Luis Su√°rez", c:"#f7b5cd", a:82, m:70, d:65},
  {n:"LA Galaxy", i:"‚ö™üîµ", s:"Marco Reus", c:"#ffffff", a:69, m:72, d:69},
  {n:"LAFC", i:"‚ö´üü°", s:"Son Heung-min", c:"#000000", a:75, m:69, d:70},
  {n:"Whitecaps FC", i:"üîµ‚ö™", s:"Thomas M√ºller", c:"#ffffff", a:76, m:72, d:68},
  // FRAN√áA (39-45)
  {n:"Lille OSC", i:"üî¥üîµ", s:"Olivier Giroud", c:"#e01e37", a:78, m:77, d:76},
  {n:"Olympique Lyon", i:"‚ö™üîµ", s:"Endrick Felipe", c:"#ffffff", a:75, m:77, d:76},
  {n:"Marseille", i:"‚ö™üîµ", s:"Igor Paix√£o & Mason Greenwood", c:"#ffffff", a:80, m:79, d:79},
  {n:"AS Monaco", i:"üî¥‚ö™", s:"Paul Pogba", c:"#e30613", a:76, m:76, d:78},
  {n:"Paris FC", i:"üîµ‚ö™", s:"Ot√°vio Edmilson", c:"#002d72", a:74, m:75, d:73},
  {n:"PSG", i:"üîµüî¥", s:"Ousmane Demb√©l√©, Khvicha Kvaratskhelia & D√©sir√© Dou√©", c:"#004170", a:85, m:85, d:86},
  {n:"Strasbourg", i:"üîµ‚ö™", s:"Valent√≠n Barco & Julio Enciso", c:"#009ddc", a:77, m:74, d:75},
  // HOLANDA (46-49)
  {n:"Ajax", i:"‚ö™üî¥", s:"Wout Weghorst", c:"#ffffff", a:77, m:72, d:74},
  {n:"AZ Alkmaar", i:"üî¥‚ö™", s:"Weslley Patati", c:"#db0d0d", a:74, m:72, d:72},
  {n:"Feyenoord", i:"üî¥‚ö™", s:"Quinten Timber", c:"#ffffff", a:75, m:75, d:74},
  {n:"PSV Eindhoven", i:"üî¥‚ö™", s:"Ivan Perisic", c:"#ff0000", a:77, m:78, d:76},
  // INGLATERRA (50-69)
  {n:"Arsenal", i:"üî¥‚ö™", s:"Bukayo Saka & Viktor Gy√∂keres", c:"#EF0107", a:84, m:85, d:85},
  {n:"Aston Villa", i:"üü£üîµ", s:"Ollie Watkins, Morgan Rogers & Emiliano Mart√≠nez", c:"#670E36", a:82, m:79, d:80},
  {n:"Bournemouth", i:"üî¥‚ö´", s:"Evanilson Lima & Rayan Vitor", c:"#da291c", a:78, m:77, d:77},
  {n:"Brentford", i:"üî¥‚ö™", s:"Igor Thiago & Mikkel Damsgaard", c:"#e30613", a:79, m:78, d:77},
  {n:"Brighton", i:"üîµ‚ö™", s:"Kaoru Mitoma", c:"#0057b8", a:79, m:79, d:78},
  {n:"Burnley", i:"üü£üîµ", s:"Kyle Walker", c:"#6c1d45", a:74, m:75, d:75},
  {n:"Chelsea", i:"üîµ‚ö™", s:"Est√™v√£o Willian & Jo√£o Pedro", c:"#034694", a:80, m:82, d:80},
  {n:"Crystal Palace", i:"üîµüî¥", s:"Yeremy Pino", c:"#1b458f", a:79, m:78, d:78},
  {n:"Everton", i:"üîµ‚ö™", s:"Jordan Pickford", c:"#003399", a:76, m:78, d:77},
  {n:"Fulham", i:"‚ö™‚ö´", s:"Bernd Leno", c:"#ffffff", a:77, m:78, d:77},
  {n:"Leeds United", i:"‚ö™üü°", s:"Lucas Perri", c:"#ffffff", a:76, m:76, d:76},
  {n:"Liverpool", i:"üî¥üî¥", s:"Mohamed Salah, Alexander Isak & Florian Wirtz", c:"#c8102e", a:85, m:84, d:83},
  {n:"Man City", i:"üîµ‚ö™", s:"Erling Haaland & Rayan Cherki", c:"#6fc7ff", a:85, m:85, d:82},
  {n:"Man Utd", i:"üî¥‚ö´", s:"Bruno Fernandes & Matheus Cunha", c:"#da291c", a:82, m:80, d:80},
  {n:"Newcastle", i:"‚ö´‚ö™", s:"Anthony Gordon, Bruno Guimar√£es & Joelinton", c:"#000000", a:80, m:84, d:79},
  {n:"Nottm Forest", i:"üî¥‚ö™", s:"Igor Jesus & Chris Wood", c:"#dd0000", a:77, m:78, d:81},
  {n:"Sunderland", i:"üî¥‚ö™", s:"Granit Xhaka, Montassar Talbi & Nordi Mukiele", c:"#ff0000", a:76, m:77, d:79},
  {n:"Tottenham", i:"‚ö™üîµ", s:"James Maddison, Dominic Solanke & Richarlison \"O Pombo\"", c:"#ffffff", a:79, m:79, d:81},
  {n:"West Ham", i:"üü£üîµ", s:"Jarrod Bowen & Taty Castellanos", c:"#7a263a", a:76, m:78, d:76},
  {n:"Wolves", i:"üü†‚ö´", s:"Jo√£o Gomes & Jos√© S√°", c:"#fdb913", a:75, m:75, d:75},
  // IT√ÅLIA (70-89)
  {n:"Atalanta", i:"üîµ‚ö´", s:"Marten de Roon & √âderson Jos√©", c:"#1f2f57", a:77, m:78, d:77},
  {n:"Bologna", i:"üî¥üîµ", s:"Riccardo Orsolini", c:"#a6192e", a:76, m:77, d:74},
  {n:"Cagliari", i:"üî¥üîµ", s:"Andrea Belotti", c:"#00236a", a:73, m:73, d:72},
  {n:"Como", i:"üîµ‚ö™", s:"Nico Paz", c:"#0070b0", a:77, m:76, d:74},
  {n:"Cremonese", i:"üî¥üîò", s:"Jamie Vardy", c:"#a4a4a4", a:74, m:72, d:72},
  {n:"Fiorentina", i:"üü£‚ö™", s:"Moise Kean", c:"#4f2c8f", a:78, m:74, d:75},
  {n:"Genoa", i:"üî¥üîµ", s:"Ruslan Malinovskyi", c:"#aa0000", a:73, m:73, d:71},
  {n:"Hellas Verona", i:"üü°üîµ", s:"Suat Serdar", c:"#ffff00", a:72, m:73, d:71},
  {n:"Inter Milan", i:"üîµ‚ö´", s:"Lautaro Mart√≠nez & Nicol√≤ Barella", c:"#0068a8", a:86, m:83, d:82},
  {n:"Juventus", i:"‚ö´‚ö™", s:"Gleison Bremer & Kenan Yƒ±ldƒ±z", c:"#ffffff", a:81, m:80, d:80},
  {n:"Lazio", i:"üîµ‚ö™", s:"Mattia Zaccagni", c:"#87d8f7", a:79, m:76, d:78},
  {n:"Lecce", i:"üü°üî¥", s:"Wladimiro Falcone", c:"#dc1e28", a:71, m:71, d:71},
  {n:"Milan", i:"üî¥‚ö´", s:"Rafael Le√£o & Luka Modriƒá", c:"#fb090b", a:84, m:81, d:77},
  {n:"Napoli", i:"üîµ‚ö™", s:"Kevin De Bruyne & Scott McTominay", c:"#003e7e", a:79, m:82, d:80},
  {n:"Parma", i:"üü°üîµ", s:"Patrick Cutrone", c:"#ffd700", a:71, m:72, d:73},
  {n:"Pisa", i:"üîµ‚ö´", s:"Ra√∫l Albiol", c:"#0057b8", a:72, m:72, d:71},
  {n:"AS Roma", i:"üü§üü†", s:"Paulo Dybala & Wesley Fran√ßa", c:"#8e1f2f", a:79, m:79, d:80},
  {n:"Sassuolo", i:"üü¢‚ö´", s:"Domenico Berardi", c:"#00a859", a:77, m:74, d:72},
  {n:"Torino", i:"üü§‚ö™", s:"Ivan Iliƒá & Duv√°n Zapata", c:"#8a1e2b", a:78, m:73, d:75},
  {n:"Udinese", i:"‚ö´‚ö™", s:"Nicol√≤ Zaniolo", c:"#000000", a:73, m:72, d:73},
  // PORTUGAL (90-93)
  {n:"Benfica", i:"üî¥‚ö™", s:"Vangelis Pavlidis", c:"#ff3b3b", a:79, m:78, d:78},
  {n:"Braga", i:"üî¥‚ö™", s:"Ricardo Horta", c:"#e00000", a:74, m:75, d:74},
  {n:"FC Porto", i:"üîµ‚ö™", s:"Alan Varela", c:"#004d9c", a:78, m:77, d:78},
  {n:"Sporting CP", i:"üü¢‚ö™", s:"Morten Hjulmand", c:"#008057", a:78, m:80, d:77},
  // SU√ç√áA (94-95)
  {n:"FC Basel", i:"üî¥üîµ", s:"Xherdan Shaqiri", c:"#ff2e2e", a:68, m:72, d:69},
  {n:"Young Boys", i:"üü°‚ö´", s:"Alvyn Sanches", c:"#ffd700", a:71, m:71, d:70},
  // TURQUIA (96-98)
  {n:"Be≈üikta≈ü", i:"‚ö´‚ö™", s:"Orkun K√∂k√ß√º", c:"#000000", a:74, m:76, d:73},
  {n:"Fenerbah√ße", i:"üü°üîµ", s:"Ederson Santana", c:"#002d72", a:80, m:79, d:77},
  {n:"Galatasaray", i:"üü°üî¥", s:"Victor Osimhen", c:"#a90432", a:82, m:80, d:78}
];

let players = { a: "Jogador 1", b: "Jogador 2" };
let isDrafting = false;
let history = []; // Mem√≥ria para n√£o repetir

// CALCULO PONDERADO (OVR)
function getOVR(t) {
  // Meio campo peso 4, outros peso 3
  let val = (t.a * 0.3) + (t.m * 0.4) + (t.d * 0.3);
  return Math.min(Math.max(Math.round(val), 60), 99);
}

function startSystem() {
  AudioFX.unlock(); // DESBLOQUEIO DE SOM CRUCIAL
  const n1 = document.getElementById('p1').value.trim();
  const n2 = document.getElementById('p2').value.trim();
  if(n1) players.a = n1;
  if(n2) players.b = n2;
  
  document.getElementById('lobby').style.display = 'none';
  document.getElementById('arena').style.display = 'block';
  shuffleSides();
}

function shuffleSides() {
  const rev = Math.random() > 0.5;
  document.getElementById('own1').innerText = "üéÆ " + (rev ? players.b : players.a);
  document.getElementById('own2').innerText = "üéÆ " + (rev ? players.a : players.b);
}

function runDraft() {
  if(isDrafting) return; isDrafting = true;
  document.getElementById('btnDraft').disabled = true;
  AudioFX.unlock();
  document.getElementById('arena').classList.add('shuffling');
  
  let ticks = 0;
  const interval = setInterval(() => {
    renderCard(1, db[Math.floor(Math.random() * db.length)]);
    renderCard(2, db[Math.floor(Math.random() * db.length)]);
    AudioFX.tick();
    ticks++;
    if(ticks > 15) { clearInterval(interval); finishDraft(); }
  }, 90);
}

function finishDraft() {
  shuffleSides();
  // Filtro de repeti√ß√£o
  let available = db.filter(t => !history.includes(t.n));
  if(available.length < 20) { history = []; available = db; }

  const t1 = available[Math.floor(Math.random() * available.length)];
  const ovr1 = getOVR(t1);

  // Matchmaking L√≥gico
  let pool = available.filter(t => {
    const ovr2 = getOVR(t);
    const diff = Math.abs(ovr1 - ovr2);
    const tolerance = ovr1 > 84 ? 3 : 4; 
    return diff <= tolerance && t.n !== t1.n;
  });

  if(pool.length === 0) pool = available.filter(t => t.n !== t1.n);
  const t2 = pool[Math.floor(Math.random() * pool.length)];

  history.push(t1.n, t2.n);
  if(history.length > 14) history.splice(0, 2);

  renderCard(1, t1); renderCard(2, t2);
  AudioFX.boom();
  document.getElementById('arena').classList.remove('shuffling');
  document.getElementById('btnDraft').disabled = false;
  isDrafting = false;
}

function renderCard(id, data) {
  const c = document.getElementById(`c${id}`);
  const ovr = getOVR(data);
  
  // Cores
  c.style.setProperty('--team-color', data.c);
  document.getElementById(`glw${id}`).style.setProperty('--team-color', data.c);
  
  // OVR Colorido
  const oBox = document.getElementById(`ovr${id}`);
  oBox.className = 'ovr'; // Reset
  if(ovr >= 85) oBox.classList.add('s-tier');
  else if(ovr >= 80) oBox.classList.add('a-tier');
  else if(ovr >= 75) oBox.classList.add('b-tier');
  else oBox.classList.add('c-tier');
  oBox.innerText = ovr;

  // Textos
  document.getElementById(`n${id}`).innerText = data.n;
  document.getElementById(`k${id}`).innerText = data.i;
  document.getElementById(`s${id}`).innerText = "‚≠ê " + data.s;

  // Barras
  setBar(id, 'a', data.a);
  setBar(id, 'm', data.m);
  setBar(id, 'd', data.d);
}

function setBar(id, type, val) {
  document.getElementById(`v${id}${type}`).innerText = val;
  document.getElementById(`b${id}${type}`).style.width = val + "%";
}
</script>
</body>
</html>
